<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>
  <script src="plain-gallery.js"></script>
  <style> img { opacity: 1 } </style>
</head>

<body>
<main>
  <a href="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b">
    <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=320">
  </a>
  <a href="https://images.unsplash.com/photo-1495360010541-f48722b34f7d">
    <img src="https://images.unsplash.com/photo-1495360010541-f48722b34f7d?h=320" alt="浮光一瞬，离愁一身">
  </a>
  <a href="">
    <img src="https://images.unsplash.com/photo-1561948955-570b270e7c36?h=320" alt="落霞孤鹜">
  </a>
  <a href="https://images.unsplash.com/photo-1519389950473-47ba0277781c">
    <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=320">
  </a>
  <a href="https://images.unsplash.com/photo-1550745165-9bc0b252726f">
    <img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=320" alt="旺旺？">
  </a>
</main>

<main>
  <a href="https://images.unsplash.com/photo-1721332153370-56d7cc352d63">
    <img src="https://images.unsplash.com/photo-1721332153370-56d7cc352d63?h=320">
  </a>
  <a href="https://images.unsplash.com/photo-1729206861574-32a7f8f763f6">
    <img src="https://images.unsplash.com/photo-1729206861574-32a7f8f763f6?w=320">
  </a>
</main>

<div style="width:1000px;height:10px;"></div>

<button onclick="pg.open(1,1)">open</button>
</body>
</html>

<script>
const pg = new PlainGallery('main', 'a');

pg.toolbar.register({
  html: '<div></div>',
  onInit: function (el) {
    pg.on('change', (current) => {
      const img = current.querySelector('img[alt]');
      el.innerHTML = img ? img.alt : '';
    });
  }
});

pg.toolbar.register({
  position: 'right',
  html: '<b>test</b>',
  onInit: function (el) {
    el.onclick = () => console.log('123');
  }
});

//setTimeout(() => pg.close(), 3000)
</script>